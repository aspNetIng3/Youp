@{
    ViewBag.Title = "Stats - Event";
}

<div class="row">
    <div class="col-md-3">
        <div id="countEvent" style="width:100%;height:200px;"></div>
    </div>
    <div class="col-md-3">
        <div id="countEventPending" style="width:100%;height:200px;"></div>
    </div>
    <div class="col-md-3">
        <div id="countEventClose" style="width:100%;height:200px;"></div>
    </div>
    <div class="col-md-3">
        <div id="countEventDelete" style="width:100%;height:200px;"></div>
    </div>
</div>

<div class="row">
    <div class="col-md-12">
        <hr />
    </div>
</div>

<div class="row">
    <div class="col-md-12">
        <h3 style="text-align: center; margin-top: 5px; margin-bottom: 20px;"><span style="color:rgba(0,137,250,1); font-weight: bold;">Event create</span></h3>
    </div>
    <div class="col-md-6">
        <canvas id="chartEventCreateYear" height="200"></canvas>
    </div>

    <div class="col-md-6">
        <canvas id="chartEventCreateMonth" height="200"></canvas>
    </div>
</div>

@section Scripts {
    <script>
        var dataToDataChartEventCreateYear = [];
        @foreach (KeyValuePair<int, int> pair in (Dictionary<int, int>)ViewData["eventCreateForMonths"])
        {
        <text>dataToDataChartEventCreateYear.push(@pair.Value);</text>
        }

        var dataToDataChartEventCreateMonth = [];
        var labelToDataChartEventCreateMonth = [];
        @foreach (KeyValuePair<int, int> pair in (Dictionary<int, int>)ViewData["eventCreateForMonth"])
        {
        <text>
        labelToDataChartEventCreateMonth.push(@pair.Key);
        dataToDataChartEventCreateMonth.push(@pair.Value);
        </text>
        }

        var dataChartEventCreateYear = {
            labels: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
            datasets: [
                {
                    fillColor: "rgba(0,137,250,0.5)",
                    strokeColor: "rgba(0,137,250,1)",
                    pointColor: "rgba(0,137,250,1)",
                    pointStrokeColor: "#fff",
                    data: dataToDataChartEventCreateYear
                }
            ]
        }

        var dataChartEventCreateMonth = {
            labels: labelToDataChartEventCreateMonth,
            datasets: [
                {
                    fillColor: "rgba(0,137,250,0.5)",
                    strokeColor: "rgba(0,137,250,1)",
                    pointColor: "rgba(0,137,250,1)",
                    pointStrokeColor: "#fff",
                    data: dataToDataChartEventCreateMonth
                }
            ]
        }

       $(document).ready(function () {

           var options = {
               scaleFontColor: '#444'
           };

           var ctxChartEventCreateYear = $("#chartEventCreateYear").get(0).getContext("2d");
           ctxChartEventCreateYear.canvas.width = $("#chartEventCreateYear").parent().width();
           var chartEventCreateYear = new Chart(ctxChartEventCreateYear).Line(dataChartEventCreateYear, options);

           var ctxChartEventCreateMonth = $("#chartEventCreateMonth").get(0).getContext("2d");
           ctxChartEventCreateMonth.canvas.width = $("#chartEventCreateMonth").parent().width();
           var chartEventCreateMonth = new Chart(ctxChartEventCreateMonth).Line(dataChartEventCreateMonth, options);

           var gCountEvent = new JustGage({
                id: "countEvent",
                value: parseInt('@ViewData["countEvent"]'),
                min: 0,
                max: parseInt('@ViewData["countEvent"]'),
                title: "Events",
                showMinMax: false,
                levelColors: ['rgba(0,137,250,1)'],
                gaugeColor: 'rgba(220,220,220,0.5)',
                titleFontColor: '#444'
            });

           var gCountEventClose = new JustGage({
                id: "countEventPending",
                value: parseInt('@ViewData["countEventPending"]'),
                min: 0,
                max: parseInt('@ViewData["countEvent"]'),
                title: "Events pending",
                showMinMax: false,
                levelColors: ['rgba(0,137,250,1)'],
                gaugeColor: 'rgba(220,220,220,0.5)',
                titleFontColor: '#444'
            });

           var gCountEventClose = new JustGage({
                id: "countEventClose",
                value: parseInt('@ViewData["countEventClose"]'),
                min: 0,
                max: parseInt('@ViewData["countEvent"]'),
                title: "Events close",
                showMinMax: false,
                levelColors: ['rgba(0,137,250,1)'],
                gaugeColor: 'rgba(220,220,220,0.5)',
                titleFontColor: '#444'
            });

           var gCountEventDelete = new JustGage({
                id: "countEventDelete",
                value: parseInt('@ViewData["countEventDelete"]'),
                min: 0,
                max: parseInt('@ViewData["countEvent"]'),
                title: "Events deleted",
                showMinMax: false,
                levelColors: ['rgba(0,137,250,1)'],
                gaugeColor: 'rgba(220,220,220,0.5)',
                titleFontColor: '#444'
            });
            
        });
    </script>
}